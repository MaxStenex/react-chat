{"version":3,"sources":["assets/common/login.svg","assets/common/password.svg","components/Signup/Signup.jsx"],"names":["module","exports","Signup","user","useForm","register","handleSubmit","errors","useState","confirmPasswordError","setConfirmPasswordError","registrationError","setRegistrationError","signupWithEmail","data","a","password","confirmPassword","auth","createUserWithEmailAndPassword","email","message","to","className","onSubmit","src","loginImage","alt","name","type","placeholder","ref","required","passImage","minLength"],"mappings":"kGAAAA,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,kLCuF5BC,UA/EA,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAAW,EACgBC,cAAnCC,EADmB,EACnBA,SAAUC,EADS,EACTA,aAAcC,EADL,EACKA,OADL,EAE6BC,oBAAS,GAFtC,mBAEpBC,EAFoB,KAEEC,EAFF,OAGuBF,mBAAS,IAHhC,mBAGpBG,EAHoB,KAGDC,EAHC,KAIrBC,EAAe,uCAAG,WAAOC,GAAP,SAAAC,EAAA,yDAClBD,EAAKE,WAAaF,EAAKG,gBADL,yCAEbP,GAAwB,IAFX,cAItBA,GAAwB,GAJF,kBAMdQ,IAAKC,+BAA+BL,EAAKM,MAAON,EAAKE,UANvC,gFAQbJ,EAAqB,KAAMS,UARd,yDAAH,sDAYrB,OAAOlB,EACL,kBAAC,IAAD,CAAUmB,GAAG,UAEb,6BAASC,UAAU,UACjB,yBAAKA,UAAU,mBACb,wBAAIA,UAAU,iBAAd,gBACA,0BAAMC,SAAUlB,EAAaO,GAAkBU,UAAU,gBACvD,yBAAKA,UAAU,iBACb,yBAAKE,IAAKC,IAAYC,IAAI,UAC1B,2BACEC,KAAK,QACLC,KAAK,QACLC,YAAY,QACZC,IAAK1B,EAAS,CAAE2B,UAAU,OAG7BzB,EAAOa,OACN,0BAAMG,UAAU,iBAAhB,0BAEF,yBAAKA,UAAU,oBACb,yBAAKE,IAAKQ,IAAWN,IAAI,aACzB,2BACEC,KAAK,WACLC,KAAK,WACLC,YAAY,WACZC,IAAK1B,EAAS,CAAE2B,UAAU,EAAME,UAAW,OAG9C3B,EAAOS,WACLT,EAAOyB,SACN,0BAAMT,UAAU,iBAAhB,0BAEA,0BAAMA,UAAU,iBAAhB,4BAEJ,yBAAKA,UAAU,8CACb,yBAAKE,IAAKQ,IAAWN,IAAI,aACzB,2BACEC,KAAK,kBACLC,KAAK,WACLC,YAAY,mBACZC,IAAK1B,EAAS,CACZ2B,UAAU,OAIdzB,EAAOU,iBACP,0BAAMM,UAAU,iBAAhB,2BAECd,GACC,0BAAMc,UAAU,iBAAhB,uBAEJ,4BAAQA,UAAU,oBAAlB,YAEDZ,GACC,0BAAMY,UAAU,8BACbZ","file":"static/js/6.8c4f69fc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login.83281070.svg\";","module.exports = __webpack_public_path__ + \"static/media/password.23fc957c.svg\";","import React, { useState } from 'react';\r\nimport './Signup.scss';\r\nimport loginImage from '../../assets/common/login.svg';\r\nimport passImage from '../../assets/common/password.svg';\r\nimport { useForm } from 'react-hook-form';\r\nimport { auth } from '../../api/';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Signup = ({ user }) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState(false);\r\n  const [registrationError, setRegistrationError] = useState('');\r\n  const signupWithEmail = async (data) => {\r\n    if (data.password !== data.confirmPassword) {\r\n      return setConfirmPasswordError(true);\r\n    }\r\n    setConfirmPasswordError(false);\r\n    try {\r\n      await auth.createUserWithEmailAndPassword(data.email, data.password);\r\n    } catch (error) {\r\n      return setRegistrationError(error.message);\r\n    }\r\n  };\r\n\r\n  return user ? (\r\n    <Redirect to='/chat' />\r\n  ) : (\r\n    <section className='signup'>\r\n      <div className='signup__wrapper'>\r\n        <h2 className='signup__title'>Registration</h2>\r\n        <form onSubmit={handleSubmit(signupWithEmail)} className='signup__form'>\r\n          <div className='signup__email'>\r\n            <img src={loginImage} alt='email' />\r\n            <input\r\n              name='email'\r\n              type='email'\r\n              placeholder='Email'\r\n              ref={register({ required: true })}\r\n            />\r\n          </div>\r\n          {errors.email && (\r\n            <span className='signup__error'>This field is required</span>\r\n          )}\r\n          <div className='signup__password'>\r\n            <img src={passImage} alt='password' />\r\n            <input\r\n              name='password'\r\n              type='password'\r\n              placeholder='Password'\r\n              ref={register({ required: true, minLength: 6 })}\r\n            />\r\n          </div>\r\n          {errors.password &&\r\n            (errors.required ? (\r\n              <span className='signup__error'>This field is required</span>\r\n            ) : (\r\n              <span className='signup__error'>Min length is 6 symbols</span>\r\n            ))}\r\n          <div className='signup__password signup__password--confirm'>\r\n            <img src={passImage} alt='password' />\r\n            <input\r\n              name='confirmPassword'\r\n              type='password'\r\n              placeholder='Confirm password'\r\n              ref={register({\r\n                required: true,\r\n              })}\r\n            />\r\n          </div>\r\n          {(errors.confirmPassword && (\r\n            <span className='signup__error'>This field is required</span>\r\n          )) ||\r\n            (confirmPasswordError && (\r\n              <span className='signup__error'>Not equal passwords</span>\r\n            ))}\r\n          <button className='signup__join-btn'>Sign up</button>\r\n        </form>\r\n        {registrationError && (\r\n          <span className='signup__registration-error'>\r\n            {registrationError}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"sourceRoot":""}