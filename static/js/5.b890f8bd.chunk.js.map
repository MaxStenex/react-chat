{"version":3,"sources":["assets/common/login.svg","assets/common/password.svg","assets/login/googleIcon.svg","components/Login/Login.jsx"],"names":["module","exports","Login","user","useForm","register","handleSubmit","errors","useState","loginError","setLoginError","loginWithEmail","data","a","auth","signInWithEmailAndPassword","email","password","message","to","className","onSubmit","src","loginImage","alt","type","placeholder","ref","required","name","passImage","onClick","provider","firebase","GoogleAuthProvider","signInWithPopup","googleIcon"],"mappings":"kGAAAA,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,wCCA3CD,EAAOC,QAAU,IAA0B,wC,8KC2E5BC,UAlED,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAAW,EACiBC,cAAnCC,EADkB,EAClBA,SAAUC,EADQ,EACRA,aAAcC,EADN,EACMA,OADN,EAEUC,mBAAS,IAFnB,mBAEnBC,EAFmB,KAEPC,EAFO,KAOpBC,EAAc,uCAAG,WAAOC,GAAP,SAAAC,EAAA,+EAEbC,IAAKC,2BAA2BH,EAAKI,MAAOJ,EAAKK,UAFpC,+EAIZP,EAAc,KAAMQ,UAJR,wDAAH,sDAQpB,OAAOf,EACL,kBAAC,IAAD,CAAUgB,GAAG,UAEb,6BAASC,UAAU,SACjB,yBAAKA,UAAU,kBACb,wBAAIA,UAAU,gBAAd,gBACA,0BAAMC,SAAUf,EAAaK,GAAiBS,UAAU,eACtD,yBAAKA,UAAU,gBACb,yBAAKE,IAAKC,IAAYC,IAAI,UAC1B,2BACEC,KAAK,QACLC,YAAY,QACZC,IAAKtB,EAAS,CAAEuB,UAAU,IAC1BC,KAAK,WAGRtB,EAAOS,OACN,0BAAMI,UAAU,gBAAhB,0BAEF,yBAAKA,UAAU,mBACb,yBAAKE,IAAKQ,IAAWN,IAAI,aACzB,2BACEC,KAAK,WACLC,YAAY,WACZG,KAAK,WACLF,IAAKtB,EAAS,CAAEuB,UAAU,OAG7BrB,EAAOU,UACN,0BAAMG,UAAU,gBAAhB,0BAEF,4BAAQA,UAAU,mBAAlB,WAEDX,GACC,0BAAMW,UAAU,qCACbX,GAGL,wBAAIW,UAAU,cACZ,wBAAIA,UAAU,oBACZ,4BAAQA,UAAU,qBAAqBW,QApDxB,WACvB,IAAMC,EAAW,IAAIC,IAASnB,KAAKoB,mBACnCpB,IAAKqB,gBAAgBH,KAmDX,yBAAKV,IAAKc,IAAYZ,IAAI,qBAC1B","file":"static/js/5.b890f8bd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login.83281070.svg\";","module.exports = __webpack_public_path__ + \"static/media/password.23fc957c.svg\";","module.exports = __webpack_public_path__ + \"static/media/googleIcon.8f64d907.svg\";","import React, { useState } from 'react';\r\nimport './Login.scss';\r\nimport loginImage from '../../assets/common/login.svg';\r\nimport passImage from '../../assets/common/password.svg';\r\nimport googleIcon from '../../assets/login/googleIcon.svg';\r\nimport firebase, { auth } from '../../api';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nconst Login = ({ user }) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [loginError, setLoginError] = useState('');\r\n  const singInWithGoogle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    auth.signInWithPopup(provider);\r\n  };\r\n  const loginWithEmail = async (data) => {\r\n    try {\r\n      await auth.signInWithEmailAndPassword(data.email, data.password);\r\n    } catch (error) {\r\n      return setLoginError(error.message);\r\n    }\r\n  };\r\n\r\n  return user ? (\r\n    <Redirect to='/chat' />\r\n  ) : (\r\n    <section className='login'>\r\n      <div className='login__wrapper'>\r\n        <h2 className='login__title'>Member login</h2>\r\n        <form onSubmit={handleSubmit(loginWithEmail)} className='login__form'>\r\n          <div className='login__login'>\r\n            <img src={loginImage} alt='login' />\r\n            <input\r\n              type='email'\r\n              placeholder='Email'\r\n              ref={register({ required: true })}\r\n              name='email'\r\n            />\r\n          </div>\r\n          {errors.email && (\r\n            <span className='login__error'>This field is required</span>\r\n          )}\r\n          <div className='login__password'>\r\n            <img src={passImage} alt='password' />\r\n            <input\r\n              type='password'\r\n              placeholder='Password'\r\n              name='password'\r\n              ref={register({ required: true })}\r\n            />\r\n          </div>\r\n          {errors.password && (\r\n            <span className='login__error'>This field is required</span>\r\n          )}\r\n          <button className='login__join-btn'>Log in</button>\r\n        </form>\r\n        {loginError && (\r\n          <span className='login__error login__error--global'>\r\n            {loginError}\r\n          </span>\r\n        )}\r\n        <ul className='login-with'>\r\n          <li className='login-with__item'>\r\n            <button className='login-with__button' onClick={singInWithGoogle}>\r\n              <img src={googleIcon} alt='singInWIthGoogle' />\r\n              <span>Sign in with google</span>\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}